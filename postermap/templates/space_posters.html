{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}
{% block title %}{% trans "Posterlocaties" %}{% endblock title %}
{% block custom_css_js %}
<script src="http://maps.googleapis.com/maps/api/js"></script>
<script>
var map;
var newMarkerListener;
function initialize() {
	var mapOptions = {
		center: {lat: 50.8770, lng: 4.6857},
		zoom: 13,
	};
	map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
	{% for poster in posters %}
		new google.maps.Marker({
			position: {lat: {{poster.latitude|stringformat:"f"}}, lng: {{poster.longitude|stringformat:"f"}}},
			map: map,
			title: '{{poster.location_name}}',
		});
	{% endfor %}
}
google.maps.event.addDomListener(window, 'load', initialize);
</script>
<style type="text/css">
h1 {
	margin-bottom: 1em;
}
#map-canvas {
	height: 400px;
	height: 60vh;
	width: 100%;
}
h1 {
	float: left;
}
a.btn {
	margin-top: 20px;
	float: right;
}
</style>
{% endblock custom_css_js %}
{% block content %}

<div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
	<h1>{% trans "Posterlocaties" %}</h1>
	<a href="{% url 'space_ticketing:add_poster' %}" class="btn btn-primary" role="button">{% trans "Voeg poster toe" %}</a>
</div>
<div id="map-canvas"></div>

{% endblock content %}